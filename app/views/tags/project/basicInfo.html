%{project = _project}%


<fieldset>
    <div class="sectionHeader">
        <h3>
            &{'views.general.basicInfo'}
        </h3>
        <p class="muted">
            &{'views.general.basicInfo.caption'}
        </p>
    </div>


	<input type="hidden" name="project._id" value="${project.id}"/>
	<!-- PROJECT NAME -->
	#{field 'project.name'}
	<div class="control-group #{twErrorClass field.name/}">
		<label class="control-label" for="&{field.name}">&{'views.project.name'}</label>
		<div class="controls">
			<input type="text" class="input-xlarge span5" id="name" name="${field.name}" value="${field.value}" placeholder="&{'views.project.name.info'}"/>
			<span class="help-inline">#{error field.name /}</span>
		</div>
	</div>
	#{/}

	<!-- HEADLINE -->
	#{field 'project.headline'}
	<div class="control-group #{twErrorClass field.name/}">
		<label class="control-label" for="&{field.name}" >&{'views.project.headline'}</label>
		<div class="controls">
			<textarea class="input-xlarge span7" id="headline" name="${field.name}" rows="4" placeholder="&{'views.project.headline.info'}">${field.value}</textarea>
			<span class="help-inline">#{error field.name /}</span>
		</div>
	</div>
	#{/}

    <!-- SUBHEADLINE -->
    #{field 'project.subHeadLine'}
        <div class="control-group #{twErrorClass field.name/}">
            <label class="control-label" for="&{field.name}" >&{'views.project.subheadline'}</label>
            <div class="controls">
                <textarea class="input-xlarge span7" id="subHeadline" name="${field.name}" rows="6" placeholder="&{'views.project.subheadline.info'}">${field.value}</textarea>
                <span class="help-inline">#{error field.name /}</span>
            </div>
        </div>
    #{/}

    <!-- SUBHEADLINE 2 -->
    #{field 'project.subHeadLine2'}
        <div class="control-group #{twErrorClass field.name/}">
            <label class="control-label" for="&{field.name}" >&{'views.project.subHeadline2'}</label>
            <div class="controls">
                <textarea class="input-xlarge span7" id="subHeadline2" name="${field.name}" rows="6" placeholder="&{'views.project.subHeadline2.info'}">${field.value}</textarea>
                <span class="help-inline">#{error field.name /}</span>
            </div>
        </div>
    #{/}

    <!-- CONTENT HOW TO JOIN -->
    #{field 'project.content_join'}
        <div class="control-group #{twErrorClass field.name/}">
            <label class="control-label" for="&{field.name}" >&{'views.project.join'}</label>
            <div class="controls">
                <textarea class="input-xlarge span7" id="join" name="${field.name}" rows="6" placeholder="&{'views.project.join.info'}">${field.value}</textarea>
                <span class="help-inline">#{error field.name /}</span>
            </div>
        </div>
    #{/}

    <!-- CONTENT WHEN -->
    #{field 'project.content_when'}
        <div class="control-group #{twErrorClass field.name/}">
            <label class="control-label" for="&{field.name}" >&{'views.project.when'}</label>
            <div class="controls">
                <textarea class="input-xlarge span7" id="when" name="${field.name}" rows="6" placeholder="&{'views.project.when.info'}">${field.value}</textarea>
                <span class="help-inline">#{error field.name /}</span>
            </div>
        </div>
    #{/}

    <!-- CONTENT WHERE -->
    #{field 'project.content_where'}
        <div class="control-group #{twErrorClass field.name/}">
            <label class="control-label" for="&{field.name}" >&{'views.project.where'}</label>
            <div class="controls">
                <textarea class="input-xlarge span7" id="where" name="${field.name}" rows="6" placeholder="&{'views.project.where.info'}">${field.value}</textarea>
                <span class="help-inline">#{error field.name /}</span>
            </div>
        </div>
    #{/}

    <!-- CONTENT HOW TO WHAT -->
    #{field 'project.content_what'}
        <div class="control-group #{twErrorClass field.name/}">
            <label class="control-label" for="&{field.name}" >&{'views.project.what'}</label>
            <div class="controls">
                <textarea class="input-xlarge span7" id="what" name="${field.name}" rows="6" placeholder="&{'views.project.what.info'}">${field.value}</textarea>
                <span class="help-inline">#{error field.name /}</span>
            </div>
        </div>
    #{/}

    <!-- CONTENT HOW TO JOIN -->
    #{field 'project.content_more'}
        <div class="control-group #{twErrorClass field.name/}">
            <label class="control-label" for="&{field.name}" >&{'views.project.more'}</label>
            <div class="controls">
                <textarea class="input-xlarge span7" id="more" name="${field.name}" rows="6" placeholder="&{'views.project.more.info'}">${field.value}</textarea>
                <span class="help-inline">#{error field.name /}</span>
            </div>
        </div>
    #{/}

	<!-- GOAL -->
	#{field 'project.goal'}
	<div class="control-group #{twErrorClass field.name/}">
		<label class="control-label" for="&{field.name}" >&{'views.project.goal'}</label>
		<div class="controls">
			<input type="text" class="input-xlarge span7" id="${field.name}" name="${field.name}" value="${field.value}" placeholder="&{'views.project.goal.info'}"/>
			<span class="help-inline">#{error field.name /}</span>
		</div>
	</div>
	#{/}
	
	<!-- CITY -->
	#{field 'project.city'}
	<div class="control-group #{twErrorClass field.name/}">
		<label class="control-label" for="&{field.name}" >&{'views.project.city'}</label>
		<div class="controls">
			#{select 'project.city._id', items:_cities, valueProperty:'id', labelProperty:'name', id:'city', value:project.city._id, class:"span7" /}

			*{<!-- <select id="${field.name}" name="project.city.id" value="" size="1" id="select">}*
				*{#{list _cities, as:'city'}}*
				*{<option value="city" ${project.city.equals(city) ? 'selected' : ''} >${city.name}</option>}*
				*{#{/list}}*
			*{</select> -->}*
			<span class="help-inline">#{error field.name /}</span>
		</div>
	</div>
	#{/}
	
	
	<!-- CATEGORIES -->
	#{field 'project.categories'}
	<div class="control-group">
		<label class="control-label" for="&{field.name}">&{'views.project.category'}</label>
		<div class="controls">
			<select id="${field.name}" name="project.categories._id" value="" size="1" id="select" multiple class="span7" >
				#{list _categories, as:'category'}
				<option value="${category.id}" ${project.categories.contains(category) ? 'selected' : ''} >${category.name}</option>
				#{/list}
			</select>
		</div>
	</div>
	#{/}


	<!-- NON Profit -->
	#{field 'project.nonProfit'}
	<div class="control-group #{twErrorClass field.name/}">
		<label class="control-label" for="&{field.name}" >&{'views.project.nonProfit'}</label>
		<div class="controls">
			<label class="checkbox">
				<input type="checkbox" id="nonProfit" name="${field.name}" #{if field.value}checked="true"#{/if}>
				<span class="help-inline">&{'views.project.nonProfit.info'}</span> </label>
		</div>
	</div>
	#{/}

	<div class="form-actions">
		<button type="submit" class="btn btn-large btn-primary span3">
			&{'views.project.update'}
		</button>
	</div>
</fieldset>
